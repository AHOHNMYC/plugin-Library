= Index =

== TODO ==


TODO how to represent URIs as keys into the URI table


== Purpose ==

Internal representation of an index

== Functionality ==


get all entries

put entry




== Format of data ==

 |-- contains
 :   subclass of

IndexTree
 |-- [metadata]                                          SSK@X/index-n/meta
 |-- PrefixTreeMap<URIKey,URIEntry> utab                 SSK@X/index-n/u/
 |-- PrefixTreeMap<Token,TreeSet<TokenEntry>> tktab      SSK@X/index-n/tk/
 |-- PrefixTreeMap<Token,TokenFilter> filtab             SSK@X/index-n/fil/

PrefixTreeMap<K,V>
 |-- PrefixTreeMap<K,V>
 |    |-- TreeMap<K,V>
 |         |-- K : V
 |-- TreeMap<K,V>

TokenEntry (abstract)
 : TokenRedirectionEntry
 : TokenURIEntry

TokenURIEntry
 |- FreenetURI uri
 |- String s
 |- relevance, position

URIEntry
 |- FreenetURI uri
 |- title, date_checked, size, mime-type

IndexTreeSerialiser

PREVENT  IndexNode cycles!
PREVENT  IndexTree cycles!

IndexTree
