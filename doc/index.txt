= Index =

== TODO ==


TODO how to represent URIs as keys into the URI table

TODO make the metadata for an index support "virtual" indexes like Interdex
(ie. something that tells the library plugin,
"this is not a virtual index, get the data from plugin X instead")


== Purpose ==

Internal representation of an index

== Functionality ==


get all entries

put entry




== Format of data ==

 |-- contains
 :   subclass of

IndexTree
 |-- [metadata]                                          SSK@X/index-n/index.yml
 |-- PrefixTreeMap<URIKey,URIEntry> utab                 SSK@X/index-n/u*
 |-- PrefixTreeMap<Token,TreeSet<TokenEntry>> tktab      SSK@X/index-n/tk*
 |-- PrefixTreeMap<Token,TokenFilter> filtab             SSK@X/index-n/fil*

PrefixTreeMap<K,V>
 |-- PrefixTreeMap<K,V>
 |    |-- TreeMap<K,V>
 |         |-- K : V
 |-- TreeMap<K,V>

TokenEntry (abstract) - has relevance, quality rating
 : TokenTermEntry - redirects to another search term
 : TokenIndexEntry - redirects to another index
 : TokenURIEntry - final target for term


PREVENT  IndexNode cycles!
PREVENT  IndexTree cycles!

